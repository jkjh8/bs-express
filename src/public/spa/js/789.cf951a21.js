"use strict";(self["webpackChunkbroadcastfe"]=self["webpackChunkbroadcastfe"]||[]).push([[789],{3789:(e,a,l)=>{l.r(a),l.d(a,{default:()=>x});var t=l(9835),o=l(499),s=l(1957),r=l(6970),n=l(3878),i=l.n(n),p=l(1569),u=l(7071);const d={class:"row justify-between items-center"},c={class:"bord"},m={class:"q-mt-md row justify-center"},w={setup(e){const a=[{name:"createdAt",align:"center",label:"Time",field:"createdAt",sortable:!0},{name:"priority",align:"center",label:"Priority",field:"priority",sortable:!0},{name:"id",align:"center",label:"ID(User)",field:"id",sortable:!0},{name:"zones",align:"center",label:"Zones",field:"zones",sortable:!0},{name:"message",align:"center",label:"Message",field:"message"}];i().locale("ko");let l=(0,o.iH)([]);const n=(0,o.iH)(1),w=(0,o.iH)(10),b=((0,o.iH)(0),(0,o.iH)(0)),g=(0,o.iH)("");async function f(){const e=await p.api.get(`/eventlog?page=${n.value}&limit=${w.value}&search=${encodeURIComponent(g.value)}`);l.value=e.data.docs,b.value=e.data.totalPages}function v(e){let a;switch(e){case 1:case 4:a="bg-yellow text-black";break;case 2:case 5:a="bg-red text-white";break;default:a="bg-white text-black"}return a}return(0,t.wF)((()=>{f()})),(e,p)=>{const k=(0,t.up)("q-icon"),y=(0,t.up)("q-input"),h=(0,t.up)("q-th"),_=(0,t.up)("q-tr"),U=(0,t.up)("q-td"),W=(0,t.up)("q-table"),x=(0,t.up)("q-pagination");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",d,[(0,t.Wm)((0,o.SU)(u.Z),{name:"이벤트 로그",caption:"이벤트 로그 및 방송 기록",icon:"svguse:icons.svg#serverColorInfo"}),(0,t._)("div",null,[(0,t.Wm)(y,{modelValue:g.value,"onUpdate:modelValue":p[0]||(p[0]=e=>g.value=e),filled:"",dense:"",clearable:"",label:"Search",onKeyup:(0,s.D2)(f,["enter"]),onClear:f},{append:(0,t.w5)((()=>[(0,t.Wm)(k,{style:{cursor:"pointer"},name:"search",onClick:f})])),_:1},8,["modelValue","onKeyup"])])]),(0,t._)("div",c,[(0,t.Wm)(W,{style:{"border-radius":"0.5rem"},rows:(0,o.SU)(l),columns:a,flat:"","wrap-cells":"","hide-pagination":"",pagination:{page:n.value,rowsPerPage:w.value}},{header:(0,t.w5)((e=>[(0,t.Wm)(_,{class:"bg-grey-1",props:e},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,(a=>((0,t.wg)(),(0,t.j4)(h,{key:a.name,props:e,class:"text-h6 text-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(a.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,t.w5)((e=>[(0,t.Wm)(_,{props:e,class:(0,r.C_)(v(e.row.level))},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{key:"createdAt",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)((0,o.SU)(i())(e.row.createdAt).format("YYYY-MM-DD hh:mm:ss a")),1)])),_:2},1032,["props"]),(0,t.Wm)(U,{key:"priority",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.row.priority.toUpperCase()),1)])),_:2},1032,["props"]),(0,t.Wm)(U,{key:"id",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.row.id),1)])),_:2},1032,["props"]),(0,t.Wm)(U,{key:"zones",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.row.zones.join(",")),1)])),_:2},1032,["props"]),(0,t.Wm)(U,{key:"message",props:e,style:{"max-width":"800px"}},{default:(0,t.w5)((()=>[(0,t._)("div",null,(0,r.zw)(e.row.message),1)])),_:2},1032,["props"])])),_:2},1032,["props","class"])])),_:1},8,["rows","pagination"])]),(0,t._)("div",m,[(0,t.Wm)(x,{modelValue:n.value,"onUpdate:modelValue":[p[1]||(p[1]=e=>n.value=e),f],max:b.value,"max-pages":10,"direction-links":"","boundary-links":""},null,8,["modelValue","max"])])],64)}}};var b=l(6611),g=l(2857),f=l(1746),v=l(9546),k=l(1682),y=l(7220),h=l(3044),_=l(9984),U=l.n(_);const W=w,x=W;U()(w,"components",{QInput:b.Z,QIcon:g.Z,QTable:f.Z,QTr:v.Z,QTh:k.Z,QTd:y.Z,QPagination:h.Z})}}]);